<section class="w-full flex flex-col">
  <header>
    <h1 class="text-3xl font-bold mb-1">Olá!</h1>
    <p class="text-md mb-4 text-gray-800">Aqui você encontrará informações gerais sobre as lojas e transações registradas.</p>
  </header>

  <div class="grid grid-cols-2 gap-4 mt-6">
    <article class="bg-gray-900 rounded-lg p-4 border border-gray-800">
      <h2 class="text-lg text-gray-100 font-medium">Lojas cadastradas</h2>
      <p class="mt-6 text-3xl text-green-500 font-medium"><%= @total_stores %></p>
    </article>
    <article class="bg-gray-900 rounded-lg p-4 border border-gray-800">
      <h2 class="text-lg text-gray-100 font-medium">Transações enviadas</h2>
      <p class="mt-6 text-3xl text-green-500 font-medium"><%= @total_financial_records %></p>
    </article>
  </div>

  <h2 class="mt-6 text-lg text-gray-800 font-medium">Últimas lojas cadastradas</h2>
  <section class="w-full bg-gray-100 p-4 mt-2 rounded-lg">
    <table class="w-full text-sm text-left text-gray-500 border border-gray-300">
      <thead class="text-xs text-gray-700 uppercase border-b-1 border-gray-300">
        <tr>
          <th scope="col" class="px-6 py-3">Loja</th>
          <th scope="col" class="px-6 py-3">Dono</th>
        </tr>
      </thead>
      <tbody>
        <% @last_stores.each do |store| %>
          <tr class="odd:bg-gray-50 even:bg-gray-100 border-b border-gray-300">
            <td class="px-6 py-4 font-medium text-gray-900"><%= store.name %></td>
            <td class="px-6 py-4"><%= store.owner %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="w-full mt-4 text-end">
      <%= link_to "Ver todas", stores_path, class: "text-sm text-gray-900 font-medium" %>
    </div>
  </section>

  <h2 class="mt-6 text-lg text-gray-800 font-medium">Últimas transações</h2>
  <section class="w-full bg-gray-100 p-4 mt-2 rounded-lg">
    <table class="w-full text-sm text-left text-gray-500 border border-gray-300">
      <thead class="text-xs font-bold text-black uppercase border-b-1 border-gray-300">
        <tr>
          <th scope="col" class="px-6 py-3">Tipo</th>
          <th scope="col" class="px-6 py-3">Valor</th>
          <th scope="col" class="px-6 py-3">Loja</th>
        </tr>
      </thead>
      <tbody>
        <% @last_financial_records.each do |fr| %>
          <tr class="odd:bg-gray-50 even:bg-gray-100 border-b border-gray-300">
            <td class="px-6 py-4 font-medium text-gray-900"><%= fr.transaction_description %></td>
            <td class="px-6 py-4"><%= fr.formatted_amount %></td>
            <td class="px-6 py-4"><%= fr.store.name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <div class="w-full mt-4 text-end">
      <%= link_to "Ver todas", financial_records_path, class: "text-sm text-gray-900 font-medium" %>
    </div>
  </section>
</section>
